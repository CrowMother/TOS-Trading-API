import schwabdev
from Modules import universal
from Modules import logger
import time
from flask import Flask, request, jsonify
import requests
import datetime
import json

app = Flask(__name__)
streamer = None

def remove_specific_characters(input_string, characters_to_remove):
    return ''.join([char for char in input_string if char not in characters_to_remove])

def parse_message(message):
    try:
        chars_to_remove = "\[]{\}\"\'"
        message = remove_specific_characters(message, chars_to_remove)
        mes_parts = message.split(",")
        #print(f"\nparts\n{mes_parts}")
        return mes_parts
    except Exception as e:
        print(f"can't parse: {e}")

def datafy(parsed_message):

    data = {'time': universal.time_stamp()}

    # Process each string in the parsed message
    for item in parsed_message:
        try:
            # Split on ':' and strip the quotes and whitespace
            key, value = item.split(':')
            key = key.strip().strip('"')
            value = value.strip().strip('"')
            data[key] = value
        except ValueError as e:
            universal.error_code(f"Skipping invalid format: {item}. Error: {str(e)}")
    
    return data


def set_streamer(client):
    global streamer
    streamer = client.stream

def my_handler(message):
    #call a function to convert raw message to a data format similar to below
    #data = {'time': universal.time_stamp() ,
    #        'data': message}
    #{"response":[{"service":"ADMIN","command":"LOGIN","requestid":"0","SchwabClientCorrelId":"369e8458-2d9d-0d84-828a-03a694c658ca","timestamp":1722003493339,"content":{"code":0,"msg":"server=s0635dc6-4;status=NP"}}]}

    universal.okay_code(message)
    logger.write_to_log(message)
    
    # message_parsed = parse_message(message)
    # data = datafy(message_parsed)
    # print(data)
    # Ensure that send_trade is called correctly within the application context

    with app.app_context():
        send_trade(message)

# Tracking for stock pricing of AMD and intel
def start_level_one_equity_stream(client):
    streamer.start(my_handler)
    client.stream.send(client.stream.level_one_equities("AMD,INTC", "0,1,2,3,4,5,6,7,8"))
    time.sleep(60)
    streamer.stop()

# Tracking of account data 
def start_account_tracking(client):
    streamer.start(my_handler)
    client.stream.send(client.stream.account_activity("Account Activity", "0,1,2,3,4"))
    
    

# Get request to server to tell server we have new data to send
@app.route('/send-trade', methods=["GET"])
def send_trade(data):
    # Data to be sent to the other server

    # Post request to the other server
    try:
        response = requests.post('http://localhost:5000/receive-trade', json=data)
        # Return the response from the other server
        return jsonify({'status': 'data sent', 'response': response.json()})
    except requests.exceptions.RequestException as e:
        # Handle any exceptions that occur during the POST request
        universal.error_code("connection with server lost!")
        
        #after error code figure out design for what to do with the data that can't be sent
        return jsonify({'status': 'error', 'message': str(e)})

if __name__ == '__main__':
    # Start the Flask app
    app.run(debug=True)




def send_test_trade_order():
    testList = ['[2024-07-11 10:43:02] {"notify":[{"heartbeat":"1720712582540"}]}'
    ,'[2024-07-11 10:43:02] {"data":[{"service":"ACCT_ACTIVITY", "timestamp":1720712582879,"command":"SUBS","content":[{"seq":13,"key":"Account Activity","1":"54661285","2":"OrderCreated","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"OrderCreated\",\"OrderCreatedEventEquityOrder\":{\"EventType\":\"OrderCreated\",\"Order\":{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"Order\":{\"AccountInfo\":{\"AccountNumber\":\"54661285\",\"AccountBranch\":\"WT\",\"CustomerOrFirmCode\":\"CustomerOrFirmCode_Customer\",\"OrderPlacementCustomerID\":\"353286754\",\"AccountState\":\"MO\",\"AccountTypeCode\":\"Customer\"},\"ClientChannelInfo\":{\"ClientProductCode\":\"M1\",\"EventUserID\":\"O1XX\",\"EventUserType\":\"Client\"},\"LifecycleCreatedTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"LifecycleSchwabOrderID\":\"1000979954762\",\"EntryTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"ExpiryTimeStamp\":{\"DateTimeString\":\"2024-07-11\"},\"AutoConfirm\":true,\"PlanSubmitDate\":{\"DateTimeString\":\"2024-07-11\"},\"SourceOMS\":\"ngOMS\",\"FirmID\":\"CHAS\",\"OrderAccount\":\"TDAAccount\",\"AssetOrderEquityOrderLeg\":{\"OrderInstruction\":{\"HandlingInstructionCode\":\"AutomatedExecutionNoIntervention\",\"ExecutionStrategy\":{\"Type\":\"ES_Limit\",\"LimitExecutionStrategy\":{\"Type\":\"ES_Limit\",\"LimitPrice\":{\"lo\":\"5400000\",\"signScale\":12},\"LimitPriceUnitCode\":\"Units\"}},\"PreferredRoute\":{},\"EquityOrderInstruction\":{}},\"CommissionInfo\":{\"EstimatedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"EstimatedPrincipalAmount\":{\"lo\":\"540000000\",\"signScale\":12},\"EstimatedCommissionAmount\":{\"lo\":\"650000\",\"signScale\":12}},\"AssetType\":\"MajorAssetType_EquityOption\",\"TimeInForce\":\"Day\",\"OrderTypeCode\":\"Limit\",\"OrderLegs\":[{\"LegID\":\"1000979954762\",\"LegParentSchwabOrderID\":\"1000979954762\",\"Quantity\":{\"lo\":\"1000000\",\"signScale\":12},\"QuantityUnitCodeType\":\"SharesOrUnits\",\"LeavesQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"BuySellCode\":\"Sell\",\"Security\":{\"SchwabSecurityID\":\"95278696\",\"Symbol\":\"TSLA  240719P00240000\",\"UnderlyingSymbol\":\"TSLA\",\"MajorAssetType\":\"MajorAssetType_EquityOption\",\"PrimaryMarketSymbol\":\"TSLA  240719P00240000\",\"ShortDescriptionText\":\"Tesla Inc 07\/19\/2024 $240 Put\",\"ShortName\":\"Tesla Inc 07\/19\/2024 $240 Put\",\"CUSIP\":\"0TSLA.SJ40240000\",\"OptionsSecurityInfo\":{\"PutCallCode\":\"Put\",\"UnderlyingSchwabSecurityID\":\"1948561409\",\"StrikePrice\":{\"lo\":\"240000000\",\"signScale\":12},\"OptionExpiryDate\":{\"DateTimeString\":\"2024-07-19 00:00:00.000\"}}},\"QuoteOnOrderAcceptance\":{\"Ask\":{\"lo\":\"5500000\",\"signScale\":12},\"AskSize\":{\"lo\":\"34\"},\"Bid\":{\"lo\":\"5000000\",\"signScale\":12},\"BidSize\":{\"lo\":\"3\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"5250000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954762\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"LegClientRequestInfo\":{\"SecurityId\":\"TSLA  240719P00240000\",\"SecurityIdTypeCd\":\"Symbol\"},\"AccountingRuleCode\":\"Cash\",\"EstimatedNetAmount\":{\"lo\":\"539350000\",\"signScale\":12},\"EstimatedPrincipalAmnt\":{\"lo\":\"540000000\",\"signScale\":12},\"EquityOrderLeg\":{\"EquityOptionsOrderLeg\":{\"OpenClosePositionCode\":\"PC_Close\"}}}],\"OrderCapacityCode\":\"OC_Agency\",\"SettlementType\":\"SettlementType_Regular\",\"Rule80ACode\":73,\"SolicitedCode\":\"Unsolicited\",\"TradeTag\":\"API_TOS:POS_STMT\",\"EquityOrder\":{\"TradingSessionCodeOnOrder\":\"REG\"}}}}}}}"},{"seq":14,"key":"Account Activity","1":"54661285","2":"OrderCreated","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"OrderCreated\",\"OrderCreatedEventEquityOrder\":{\"EventType\":\"OrderCreated\",\"Order\":{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"Order\":{\"AccountInfo\":{\"AccountNumber\":\"54661285\",\"AccountBranch\":\"WT\",\"CustomerOrFirmCode\":\"CustomerOrFirmCode_Customer\",\"OrderPlacementCustomerID\":\"353286754\",\"AccountState\":\"MO\",\"AccountTypeCode\":\"Customer\"},\"ClientChannelInfo\":{\"ClientProductCode\":\"M1\",\"EventUserID\":\"O1XX\",\"EventUserType\":\"Client\"},\"LifecycleCreatedTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"LifecycleSchwabOrderID\":\"1000979954762\",\"EntryTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"ExpiryTimeStamp\":{\"DateTimeString\":\"2024-07-11\"},\"AutoConfirm\":true,\"PlanSubmitDate\":{\"DateTimeString\":\"2024-07-11\"},\"SourceOMS\":\"ngOMS\",\"FirmID\":\"CHAS\",\"OrderAccount\":\"TDAAccount\",\"AssetOrderEquityOrderLeg\":{\"OrderInstruction\":{\"HandlingInstructionCode\":\"AutomatedExecutionNoIntervention\",\"ExecutionStrategy\":{\"Type\":\"ES_Limit\",\"LimitExecutionStrategy\":{\"Type\":\"ES_Limit\",\"LimitPrice\":{\"lo\":\"5400000\",\"signScale\":12},\"LimitPriceUnitCode\":\"Units\"}},\"PreferredRoute\":{},\"EquityOrderInstruction\":{}},\"CommissionInfo\":{\"EstimatedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"EstimatedPrincipalAmount\":{\"lo\":\"540000000\",\"signScale\":12},\"EstimatedCommissionAmount\":{\"lo\":\"650000\",\"signScale\":12}},\"AssetType\":\"MajorAssetType_EquityOption\",\"TimeInForce\":\"Day\",\"OrderTypeCode\":\"Limit\",\"OrderLegs\":[{\"LegID\":\"1000979954762\",\"LegParentSchwabOrderID\":\"1000979954762\",\"Quantity\":{\"lo\":\"1000000\",\"signScale\":12},\"QuantityUnitCodeType\":\"SharesOrUnits\",\"LeavesQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"BuySellCode\":\"Sell\",\"Security\":{\"SchwabSecurityID\":\"95278696\",\"Symbol\":\"TSLA  240719P00240000\",\"UnderlyingSymbol\":\"TSLA\",\"MajorAssetType\":\"MajorAssetType_EquityOption\",\"PrimaryMarketSymbol\":\"TSLA  240719P00240000\",\"ShortDescriptionText\":\"Tesla Inc 07\/19\/2024 $240 Put\",\"ShortName\":\"Tesla Inc 07\/19\/2024 $240 Put\",\"CUSIP\":\"0TSLA.SJ40240000\",\"OptionsSecurityInfo\":{\"PutCallCode\":\"Put\",\"UnderlyingSchwabSecurityID\":\"1948561409\",\"StrikePrice\":{\"lo\":\"240000000\",\"signScale\":12},\"OptionExpiryDate\":{\"DateTimeString\":\"2024-07-19 00:00:00.000\"}}},\"QuoteOnOrderAcceptance\":{\"Ask\":{\"lo\":\"5500000\",\"signScale\":12},\"AskSize\":{\"lo\":\"34\"},\"Bid\":{\"lo\":\"5000000\",\"signScale\":12},\"BidSize\":{\"lo\":\"3\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"5250000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954762\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"LegClientRequestInfo\":{\"SecurityId\":\"TSLA  240719P00240000\",\"SecurityIdTypeCd\":\"Symbol\"},\"AccountingRuleCode\":\"Cash\",\"EstimatedNetAmount\":{\"lo\":\"539350000\",\"signScale\":12},\"EstimatedPrincipalAmnt\":{\"lo\":\"540000000\",\"signScale\":12},\"EquityOrderLeg\":{\"EquityOptionsOrderLeg\":{\"OpenClosePositionCode\":\"PC_Close\"}}}],\"OrderCapacityCode\":\"OC_Agency\",\"SettlementType\":\"SettlementType_Regular\",\"Rule80ACode\":73,\"SolicitedCode\":\"Unsolicited\",\"TradeTag\":\"API_TOS:POS_STMT\",\"EquityOrder\":{\"TradingSessionCodeOnOrder\":\"REG\"}}}}}}}"}]}]}'
    ,'[2024-07-11 10:43:03] {"data":[{"service":"ACCT_ACTIVITY", "timestamp":1720712583902,"command":"SUBS","content":[{"seq":15,"key":"Account Activity","1":"54661285","2":"OrderAccepted","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"OrderAccepted\",\"OrderAcceptedEvent\":{\"EventType\":\"OrderAccepted\",\"CreatedTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"ExpiryTimeStamp\":{\"DateTimeString\":\"2024-07-11\"},\"Status\":\"Open\",\"TradingSessionCodeOnOrderEntry\":\"REG\",\"QuoteOnOrderEntry\":[{\"Ask\":{\"lo\":\"5500000\",\"signScale\":12},\"AskSize\":{\"lo\":\"34\"},\"Bid\":{\"lo\":\"5000000\",\"signScale\":12},\"BidSize\":{\"lo\":\"3\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"5250000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954762\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}}]}}}"},{"seq":16,"key":"Account Activity","1":"54661285","2":"OrderAccepted","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"OrderAccepted\",\"OrderAcceptedEvent\":{\"EventType\":\"OrderAccepted\",\"CreatedTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"ExpiryTimeStamp\":{\"DateTimeString\":\"2024-07-11\"},\"Status\":\"Open\",\"TradingSessionCodeOnOrderEntry\":\"REG\",\"QuoteOnOrderEntry\":[{\"Ask\":{\"lo\":\"5500000\",\"signScale\":12},\"AskSize\":{\"lo\":\"34\"},\"Bid\":{\"lo\":\"5000000\",\"signScale\":12},\"BidSize\":{\"lo\":\"3\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"5250000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954762\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}}]}}}"},{"seq":17,"key":"Account Activity","1":"54661285","2":"ExecutionRequested","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequested\",\"ExecutionRequestedEventRoutedInfo\":{\"EventType\":\"ExecutionRequested\",\"RouteSequenceNumber\":1,\"RouteInfo\":{\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteSequenceNumber\":1,\"RoutedExecutionTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.816\"},\"Quote\":{\"Ask\":{\"lo\":\"5500000\",\"signScale\":12},\"AskSize\":{\"lo\":\"34\"},\"Bid\":{\"lo\":\"5000000\",\"signScale\":12},\"BidSize\":{\"lo\":\"3\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"5250000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954762\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"RouteRequestedType\":\"New\",\"RoutedQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"RoutedPrice\":{\"lo\":\"5400000\",\"signScale\":12},\"RouteStatus\":\"RouteCreated\",\"ClientOrderID\":\"1000979954762.1\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:02.816\"},\"RouteTimeInForce\":\"Day\",\"RouteAcknowledgmentTimeStamp\":{}},\"RouteRequestedBy\":\"RR_Broker\",\"LegId\":\"1000979954762\"}}}"},{"seq":18,"key":"Account Activity","1":"54661285","2":"ExecutionRequested","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequested\",\"ExecutionRequestedEventRoutedInfo\":{\"EventType\":\"ExecutionRequested\",\"RouteSequenceNumber\":1,\"RouteInfo\":{\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteSequenceNumber\":1,\"RoutedExecutionTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.816\"},\"Quote\":{\"Ask\":{\"lo\":\"5500000\",\"signScale\":12},\"AskSize\":{\"lo\":\"34\"},\"Bid\":{\"lo\":\"5000000\",\"signScale\":12},\"BidSize\":{\"lo\":\"3\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"5250000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954762\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"RouteRequestedType\":\"New\",\"RoutedQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"RoutedPrice\":{\"lo\":\"5400000\",\"signScale\":12},\"RouteStatus\":\"RouteCreated\",\"ClientOrderID\":\"1000979954762.1\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:02.816\"},\"RouteTimeInForce\":\"Day\",\"RouteAcknowledgmentTimeStamp\":{}},\"RouteRequestedBy\":\"RR_Broker\",\"LegId\":\"1000979954762\"}}}"},{"seq":19,"key":"Account Activity","1":"54661285","2":"ExecutionRequestCreated","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequestCreated\",\"ExecutionRequestCreatedEvent\":{\"EventType\":\"ExecutionRequestCreated\",\"LegId\":\"1000979954762\",\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteRequestType\":\"New\",\"RouteSequenceNumber\":1,\"RouteRequestedBy\":\"RR_Broker\",\"RouteStatus\":\"RouteFixAcknowledged\",\"SenderCompID\":\"SCHWABTDAMOFP1\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:02.834\"},\"ClientOrderID\":\"1000979954762.1\"}}}"},{"seq":20,"key":"Account Activity","1":"54661285","2":"ExecutionRequestCreated","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequestCreated\",\"ExecutionRequestCreatedEvent\":{\"EventType\":\"ExecutionRequestCreated\",\"LegId\":\"1000979954762\",\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteRequestType\":\"New\",\"RouteSequenceNumber\":1,\"RouteRequestedBy\":\"RR_Broker\",\"RouteStatus\":\"RouteFixAcknowledged\",\"SenderCompID\":\"SCHWABTDAMOFP1\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:02.834\"},\"ClientOrderID\":\"1000979954762.1\"}}}"},{"seq":21,"key":"Account Activity","1":"54661285","2":"ExecutionRequestCompleted","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"ExecutionRequestCompletedEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"LegId\":\"1000979954762\",\"ResponseType\":\"Accepted\",\"ExchangeOrderID\":\"7800081192586\",\"ExecutionTime\":{\"DateTimeString\":\"2024-07-11 11:43:02.944\"},\"RouteSequenceNumber\":1,\"RouteStatus\":\"RouteVenueAccepted\",\"RouteAcknowledgmentTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.911\"},\"ClientOrderID\":\"1000979954762.1\"}}}"},{"seq":22,"key":"Account Activity","1":"54661285","2":"ExecutionRequestCompleted","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"ExecutionRequestCompletedEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"LegId\":\"1000979954762\",\"ResponseType\":\"Accepted\",\"ExchangeOrderID\":\"7800081192586\",\"ExecutionTime\":{\"DateTimeString\":\"2024-07-11 11:43:02.944\"},\"RouteSequenceNumber\":1,\"RouteStatus\":\"RouteVenueAccepted\",\"RouteAcknowledgmentTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.911\"},\"ClientOrderID\":\"1000979954762.1\"}}}"}]}]}'
    ,'[2024-07-11 10:43:10] {"data":[{"service":"ACCT_ACTIVITY", "timestamp":1720712590374,"command":"SUBS","content":[{"seq":23,"key":"Account Activity","1":"54661285","2":"ChangeCreated","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ChangeCreated\",\"ChangeCreatedEventEquityOrder\":{\"EventType\":\"ChangeCreated\",\"Order\":{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"Order\":{\"AccountInfo\":{\"AccountNumber\":\"54661285\",\"AccountBranch\":\"WT\",\"CustomerOrFirmCode\":\"CustomerOrFirmCode_Customer\",\"OrderPlacementCustomerID\":\"353286754\",\"AccountState\":\"MO\",\"AccountTypeCode\":\"Customer\"},\"ClientChannelInfo\":{\"ClientProductCode\":\"M1\",\"EventUserID\":\"O1XX\",\"EventUserType\":\"Client\"},\"LifecycleCreatedTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"LifecycleSchwabOrderID\":\"1000979954762\",\"EntryTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.256\"},\"ExpiryTimeStamp\":{\"DateTimeString\":\"2024-07-11\"},\"AutoConfirm\":true,\"PlanSubmitDate\":{\"DateTimeString\":\"2024-07-11\"},\"SourceOMS\":\"ngOMS\",\"FirmID\":\"CHAS\",\"OrderAccount\":\"TDAAccount\",\"AssetOrderEquityOrderLeg\":{\"OrderInstruction\":{\"HandlingInstructionCode\":\"AutomatedExecutionNoIntervention\",\"ExecutionStrategy\":{\"Type\":\"ES_Limit\",\"LimitExecutionStrategy\":{\"Type\":\"ES_Limit\",\"LimitPrice\":{\"lo\":\"5250000\",\"signScale\":12},\"LimitPriceUnitCode\":\"Units\"}},\"PreferredRoute\":{},\"EquityOrderInstruction\":{}},\"CommissionInfo\":{\"EstimatedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"EstimatedPrincipalAmount\":{\"lo\":\"525000000\",\"signScale\":12},\"EstimatedCommissionAmount\":{\"lo\":\"650000\",\"signScale\":12}},\"AssetType\":\"MajorAssetType_EquityOption\",\"TimeInForce\":\"Day\",\"OrderTypeCode\":\"Limit\",\"OrderLegs\":[{\"LegID\":\"1000979954776\",\"LegParentSchwabOrderID\":\"1000979954776\",\"Quantity\":{\"lo\":\"1000000\",\"signScale\":12},\"QuantityUnitCodeType\":\"SharesOrUnits\",\"LeavesQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"BuySellCode\":\"Sell\",\"Security\":{\"SchwabSecurityID\":\"95278696\",\"Symbol\":\"TSLA  240719P00240000\",\"UnderlyingSymbol\":\"TSLA\",\"MajorAssetType\":\"MajorAssetType_EquityOption\",\"PrimaryMarketSymbol\":\"TSLA  240719P00240000\",\"ShortDescriptionText\":\"Tesla Inc 07\/19\/2024 $240 Put\",\"ShortName\":\"Tesla Inc 07\/19\/2024 $240 Put\",\"CUSIP\":\"0TSLA.SJ40240000\",\"OptionsSecurityInfo\":{\"PutCallCode\":\"Put\",\"UnderlyingSchwabSecurityID\":\"1948561409\",\"StrikePrice\":{\"lo\":\"240000000\",\"signScale\":12},\"OptionExpiryDate\":{\"DateTimeString\":\"2024-07-19 00:00:00.000\"}}},\"QuoteOnOrderAcceptance\":{\"Ask\":{\"lo\":\"5050000\",\"signScale\":12},\"AskSize\":{\"lo\":\"97\"},\"Bid\":{\"lo\":\"4500000\",\"signScale\":12},\"BidSize\":{\"lo\":\"199\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.256\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4775000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954776\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"LegClientRequestInfo\":{\"SecurityId\":\"TSLA  240719P00240000\",\"SecurityIdTypeCd\":\"Symbol\"},\"AccountingRuleCode\":\"Cash\",\"EstimatedNetAmount\":{\"lo\":\"524350000\",\"signScale\":12},\"EstimatedPrincipalAmnt\":{\"lo\":\"525000000\",\"signScale\":12},\"EquityOrderLeg\":{\"EquityOptionsOrderLeg\":{\"OpenClosePositionCode\":\"PC_Close\"}}}],\"OrderCapacityCode\":\"OC_Agency\",\"SettlementType\":\"SettlementType_Regular\",\"Rule80ACode\":73,\"SolicitedCode\":\"Unsolicited\",\"TradeTag\":\"API_TOS:POS_STMT\",\"EquityOrder\":{\"TradingSessionCodeOnOrder\":\"REG\"}}}},\"ParentSchwabOrderID\":\"1000979954762\",\"LifecycleSchwabOrderID\":\"1000979954762\"}}}"},{"seq":24,"key":"Account Activity","1":"54661285","2":"ChangeCreated","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ChangeCreated\",\"ChangeCreatedEventEquityOrder\":{\"EventType\":\"ChangeCreated\",\"Order\":{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"Order\":{\"AccountInfo\":{\"AccountNumber\":\"54661285\",\"AccountBranch\":\"WT\",\"CustomerOrFirmCode\":\"CustomerOrFirmCode_Customer\",\"OrderPlacementCustomerID\":\"353286754\",\"AccountState\":\"MO\",\"AccountTypeCode\":\"Customer\"},\"ClientChannelInfo\":{\"ClientProductCode\":\"M1\",\"EventUserID\":\"O1XX\",\"EventUserType\":\"Client\"},\"LifecycleCreatedTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"LifecycleSchwabOrderID\":\"1000979954762\",\"EntryTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.256\"},\"ExpiryTimeStamp\":{\"DateTimeString\":\"2024-07-11\"},\"AutoConfirm\":true,\"PlanSubmitDate\":{\"DateTimeString\":\"2024-07-11\"},\"SourceOMS\":\"ngOMS\",\"FirmID\":\"CHAS\",\"OrderAccount\":\"TDAAccount\",\"AssetOrderEquityOrderLeg\":{\"OrderInstruction\":{\"HandlingInstructionCode\":\"AutomatedExecutionNoIntervention\",\"ExecutionStrategy\":{\"Type\":\"ES_Limit\",\"LimitExecutionStrategy\":{\"Type\":\"ES_Limit\",\"LimitPrice\":{\"lo\":\"5250000\",\"signScale\":12},\"LimitPriceUnitCode\":\"Units\"}},\"PreferredRoute\":{},\"EquityOrderInstruction\":{}},\"CommissionInfo\":{\"EstimatedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"EstimatedPrincipalAmount\":{\"lo\":\"525000000\",\"signScale\":12},\"EstimatedCommissionAmount\":{\"lo\":\"650000\",\"signScale\":12}},\"AssetType\":\"MajorAssetType_EquityOption\",\"TimeInForce\":\"Day\",\"OrderTypeCode\":\"Limit\",\"OrderLegs\":[{\"LegID\":\"1000979954776\",\"LegParentSchwabOrderID\":\"1000979954776\",\"Quantity\":{\"lo\":\"1000000\",\"signScale\":12},\"QuantityUnitCodeType\":\"SharesOrUnits\",\"LeavesQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"BuySellCode\":\"Sell\",\"Security\":{\"SchwabSecurityID\":\"95278696\",\"Symbol\":\"TSLA  240719P00240000\",\"UnderlyingSymbol\":\"TSLA\",\"MajorAssetType\":\"MajorAssetType_EquityOption\",\"PrimaryMarketSymbol\":\"TSLA  240719P00240000\",\"ShortDescriptionText\":\"Tesla Inc 07\/19\/2024 $240 Put\",\"ShortName\":\"Tesla Inc 07\/19\/2024 $240 Put\",\"CUSIP\":\"0TSLA.SJ40240000\",\"OptionsSecurityInfo\":{\"PutCallCode\":\"Put\",\"UnderlyingSchwabSecurityID\":\"1948561409\",\"StrikePrice\":{\"lo\":\"240000000\",\"signScale\":12},\"OptionExpiryDate\":{\"DateTimeString\":\"2024-07-19 00:00:00.000\"}}},\"QuoteOnOrderAcceptance\":{\"Ask\":{\"lo\":\"5050000\",\"signScale\":12},\"AskSize\":{\"lo\":\"97\"},\"Bid\":{\"lo\":\"4500000\",\"signScale\":12},\"BidSize\":{\"lo\":\"199\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.256\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4775000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954776\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"LegClientRequestInfo\":{\"SecurityId\":\"TSLA  240719P00240000\",\"SecurityIdTypeCd\":\"Symbol\"},\"AccountingRuleCode\":\"Cash\",\"EstimatedNetAmount\":{\"lo\":\"524350000\",\"signScale\":12},\"EstimatedPrincipalAmnt\":{\"lo\":\"525000000\",\"signScale\":12},\"EquityOrderLeg\":{\"EquityOptionsOrderLeg\":{\"OpenClosePositionCode\":\"PC_Close\"}}}],\"OrderCapacityCode\":\"OC_Agency\",\"SettlementType\":\"SettlementType_Regular\",\"Rule80ACode\":73,\"SolicitedCode\":\"Unsolicited\",\"TradeTag\":\"API_TOS:POS_STMT\",\"EquityOrder\":{\"TradingSessionCodeOnOrder\":\"REG\"}}}},\"ParentSchwabOrderID\":\"1000979954762\",\"LifecycleSchwabOrderID\":\"1000979954762\"}}}"},{"seq":25,"key":"Account Activity","1":"54661285","2":"CancelAccepted","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"CancelAccepted\",\"CancelAcceptedEvent\":{\"EventType\":\"CancelAccepted\",\"LifecycleSchwabOrderID\":\"1000979954762\",\"PlanSubmitDate\":{\"DateTimeString\":\"2024-07-11\"},\"ClientProductCode\":\"M1\",\"AutoConfirm\":true,\"CancelTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.301\"},\"LegCancelRequestInfoList\":[{\"LegID\":\"1000979954762\",\"IntendedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"ChangedNewOrderID\":\"1000979954776\",\"RequestedAmount\":{\"lo\":\"1000000\",\"signScale\":12},\"LegStatus\":\"LegOpen\",\"LegSubStatus\":\"LegSubStatusCancelled\",\"ChangedNewSchwabOrderId\":\"1000979954776\",\"CancelAcceptedTime\":{\"DateTimeString\":\"2024-07-11 11:43:10.301\"},\"EventUserID\":\"O1XX\"}],\"CancelRequestType\":\"ClientCancel\"}}}"},{"seq":26,"key":"Account Activity","1":"54661285","2":"CancelAccepted","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"CancelAccepted\",\"CancelAcceptedEvent\":{\"EventType\":\"CancelAccepted\",\"LifecycleSchwabOrderID\":\"1000979954762\",\"PlanSubmitDate\":{\"DateTimeString\":\"2024-07-11\"},\"ClientProductCode\":\"M1\",\"AutoConfirm\":true,\"CancelTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.301\"},\"LegCancelRequestInfoList\":[{\"LegID\":\"1000979954762\",\"IntendedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"ChangedNewOrderID\":\"1000979954776\",\"RequestedAmount\":{\"lo\":\"1000000\",\"signScale\":12},\"LegStatus\":\"LegOpen\",\"LegSubStatus\":\"LegSubStatusCancelled\",\"ChangedNewSchwabOrderId\":\"1000979954776\",\"CancelAcceptedTime\":{\"DateTimeString\":\"2024-07-11 11:43:10.301\"},\"EventUserID\":\"O1XX\"}],\"CancelRequestType\":\"ClientCancel\"}}}"},{"seq":27,"key":"Account Activity","1":"54661285","2":"ChangeAccepted","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ChangeAccepted\",\"ChangeAcceptedEvent\":{\"EventType\":\"ChangeAccepted\",\"CreatedTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.256\"},\"ExpiryTimeStamp\":{\"DateTimeString\":\"2024-07-11\"},\"TradingSessionCodeOnOrderEntry\":\"REG\",\"QuoteOnOrderEntry\":[{\"Ask\":{\"lo\":\"5050000\",\"signScale\":12},\"AskSize\":{\"lo\":\"97\"},\"Bid\":{\"lo\":\"4500000\",\"signScale\":12},\"BidSize\":{\"lo\":\"199\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.256\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4775000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954776\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}}],\"Status\":\"Open\",\"LegStatus\":\"LegOpen\",\"LegInfoUpdate\":[{\"LegId\":\"1000979954776\",\"AccountingRuleCode\":\"Cash\",\"IntendedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"PreviousLegId\":\"1000979954762\"}]}}}"},{"seq":28,"key":"Account Activity","1":"54661285","2":"ChangeAccepted","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ChangeAccepted\",\"ChangeAcceptedEvent\":{\"EventType\":\"ChangeAccepted\",\"CreatedTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.256\"},\"ExpiryTimeStamp\":{\"DateTimeString\":\"2024-07-11\"},\"TradingSessionCodeOnOrderEntry\":\"REG\",\"QuoteOnOrderEntry\":[{\"Ask\":{\"lo\":\"5050000\",\"signScale\":12},\"AskSize\":{\"lo\":\"97\"},\"Bid\":{\"lo\":\"4500000\",\"signScale\":12},\"BidSize\":{\"lo\":\"199\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.256\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4775000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954776\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}}],\"Status\":\"Open\",\"LegStatus\":\"LegOpen\",\"LegInfoUpdate\":[{\"LegId\":\"1000979954776\",\"AccountingRuleCode\":\"Cash\",\"IntendedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"PreviousLegId\":\"1000979954762\"}]}}}"}]}]}'
    ,'[2024-07-11 10:43:11] {"data":[{"service":"ACCT_ACTIVITY", "timestamp":1720712591398,"command":"SUBS","content":[{"seq":29,"key":"Account Activity","1":"54661285","2":"ExecutionRequested","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequested\",\"ExecutionRequestedEventRoutedInfo\":{\"EventType\":\"ExecutionRequested\",\"RouteSequenceNumber\":2,\"RouteInfo\":{\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteSequenceNumber\":2,\"RoutedExecutionTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.302\"},\"Quote\":{\"Ask\":{\"lo\":\"5500000\",\"signScale\":12},\"AskSize\":{\"lo\":\"34\"},\"Bid\":{\"lo\":\"5000000\",\"signScale\":12},\"BidSize\":{\"lo\":\"3\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"5250000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954762\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"RouteRequestedType\":\"Cancel\",\"RoutedQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"RoutedPrice\":{\"lo\":\"5400000\",\"signScale\":12},\"RouteStatus\":\"RouteCreated\",\"ClientOrderID\":\"1000979954762.2\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:10.302\"},\"RouteTimeInForce\":\"Day\",\"RouteAcknowledgmentTimeStamp\":{}},\"RouteRequestedBy\":\"RR_Broker\",\"LegId\":\"1000979954762\"}}}"},{"seq":30,"key":"Account Activity","1":"54661285","2":"ExecutionRequested","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequested\",\"ExecutionRequestedEventRoutedInfo\":{\"EventType\":\"ExecutionRequested\",\"RouteSequenceNumber\":2,\"RouteInfo\":{\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteSequenceNumber\":2,\"RoutedExecutionTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.302\"},\"Quote\":{\"Ask\":{\"lo\":\"5500000\",\"signScale\":12},\"AskSize\":{\"lo\":\"34\"},\"Bid\":{\"lo\":\"5000000\",\"signScale\":12},\"BidSize\":{\"lo\":\"3\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"5250000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954762\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"RouteRequestedType\":\"Cancel\",\"RoutedQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"RoutedPrice\":{\"lo\":\"5400000\",\"signScale\":12},\"RouteStatus\":\"RouteCreated\",\"ClientOrderID\":\"1000979954762.2\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:10.302\"},\"RouteTimeInForce\":\"Day\",\"RouteAcknowledgmentTimeStamp\":{}},\"RouteRequestedBy\":\"RR_Broker\",\"LegId\":\"1000979954762\"}}}"},{"seq":31,"key":"Account Activity","1":"54661285","2":"ExecutionRequestCompleted","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"ExecutionRequestCompletedEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"LegId\":\"1000979954762\",\"ResponseType\":\"Accepted\",\"ExecutionTime\":{\"DateTimeString\":\"2024-07-11 11:43:10.411\"},\"RouteSequenceNumber\":1,\"RouteStatus\":\"RouteVenueAccepted\",\"RouteAcknowledgmentTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.378\"},\"ClientOrderID\":\"1000979954777\"}}}"},{"seq":32,"key":"Account Activity","1":"54661285","2":"ExecutionRequestCompleted","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"ExecutionRequestCompletedEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"LegId\":\"1000979954762\",\"ResponseType\":\"Accepted\",\"ExecutionTime\":{\"DateTimeString\":\"2024-07-11 11:43:10.411\"},\"RouteSequenceNumber\":1,\"RouteStatus\":\"RouteVenueAccepted\",\"RouteAcknowledgmentTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.378\"},\"ClientOrderID\":\"1000979954777\"}}}"},{"seq":33,"key":"Account Activity","1":"54661285","2":"ExecutionCreated","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionCreated\",\"ExecutionCreatedEventExecutionInfo\":{\"EventType\":\"ExecutionCreated\",\"LegId\":\"1000979954762\",\"ExecutionInfo\":{\"ExecutionSequenceNumber\":1,\"ExecutionId\":\"20240711-EST-ngOMS-12990554004\",\"ExecutionQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"ExecutionTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.427\"},\"ExecutionTransType\":\"UROut\",\"ExecutionCapacityCode\":\"Agency\",\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteSequenceNumber\":1,\"VenuExecutionTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.427\"},\"CancelType\":\"ClientCancel\",\"ReportingCapacityCode\":\"RC_Agency\",\"AsOfTimeStamp\":{},\"ClientOrderID\":\"1000979954762.1\"},\"AsOfTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.427\"},\"RouteSequenceNumber\":1}}}"},{"seq":34,"key":"Account Activity","1":"54661285","2":"ExecutionCreated","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionCreated\",\"ExecutionCreatedEventExecutionInfo\":{\"EventType\":\"ExecutionCreated\",\"LegId\":\"1000979954762\",\"ExecutionInfo\":{\"ExecutionSequenceNumber\":1,\"ExecutionId\":\"20240711-EST-ngOMS-12990554004\",\"ExecutionQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"ExecutionTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.427\"},\"ExecutionTransType\":\"UROut\",\"ExecutionCapacityCode\":\"Agency\",\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteSequenceNumber\":1,\"VenuExecutionTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.427\"},\"CancelType\":\"ClientCancel\",\"ReportingCapacityCode\":\"RC_Agency\",\"AsOfTimeStamp\":{},\"ClientOrderID\":\"1000979954762.1\"},\"AsOfTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.427\"},\"RouteSequenceNumber\":1}}}"},{"seq":35,"key":"Account Activity","1":"54661285","2":"ExecutionRequested","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequested\",\"ExecutionRequestedEventRoutedInfo\":{\"EventType\":\"ExecutionRequested\",\"RouteSequenceNumber\":1,\"RouteInfo\":{\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteSequenceNumber\":1,\"RoutedExecutionTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.429\"},\"Quote\":{\"Ask\":{\"lo\":\"5050000\",\"signScale\":12},\"AskSize\":{\"lo\":\"97\"},\"Bid\":{\"lo\":\"4500000\",\"signScale\":12},\"BidSize\":{\"lo\":\"199\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.256\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4775000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954776\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"RouteRequestedType\":\"New\",\"RoutedQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"RoutedPrice\":{\"lo\":\"5250000\",\"signScale\":12},\"RouteStatus\":\"RouteCreated\",\"ClientOrderID\":\"1000979954776.1\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:10.429\"},\"RouteTimeInForce\":\"Day\",\"RouteAcknowledgmentTimeStamp\":{}},\"RouteRequestedBy\":\"RR_Broker\",\"LegId\":\"1000979954776\"}}}"},{"seq":36,"key":"Account Activity","1":"54661285","2":"ExecutionRequested","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequested\",\"ExecutionRequestedEventRoutedInfo\":{\"EventType\":\"ExecutionRequested\",\"RouteSequenceNumber\":1,\"RouteInfo\":{\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteSequenceNumber\":1,\"RoutedExecutionTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.429\"},\"Quote\":{\"Ask\":{\"lo\":\"5050000\",\"signScale\":12},\"AskSize\":{\"lo\":\"97\"},\"Bid\":{\"lo\":\"4500000\",\"signScale\":12},\"BidSize\":{\"lo\":\"199\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.256\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4775000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954776\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"RouteRequestedType\":\"New\",\"RoutedQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"RoutedPrice\":{\"lo\":\"5250000\",\"signScale\":12},\"RouteStatus\":\"RouteCreated\",\"ClientOrderID\":\"1000979954776.1\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:10.429\"},\"RouteTimeInForce\":\"Day\",\"RouteAcknowledgmentTimeStamp\":{}},\"RouteRequestedBy\":\"RR_Broker\",\"LegId\":\"1000979954776\"}}}"},{"seq":37,"key":"Account Activity","1":"54661285","2":"OrderUROutCompleted","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"OrderUROutCompleted\",\"OrderUROutCompletedEvent\":{\"EventType\":\"OrderUROutCompleted\",\"LegId\":\"1000979954762\",\"ExecutionId\":\"20240711-EST-ngOMS-12990554004\",\"LeavesQuantity\":{},\"CancelQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"LegStatus\":\"LegClosed\",\"LegSubStatus\":\"LegSubStatusCancelled\",\"OutCancelType\":\"ClientCancel\",\"VenueExecutionTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.427\"},\"ExecutionTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.427\"},\"RouteName\":\"DASH_OPT_F1_J1\"}}}"},{"seq":38,"key":"Account Activity","1":"54661285","2":"ExecutionRequestCreated","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequestCreated\",\"ExecutionRequestCreatedEvent\":{\"EventType\":\"ExecutionRequestCreated\",\"LegId\":\"1000979954776\",\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteRequestType\":\"New\",\"RouteSequenceNumber\":1,\"RouteRequestedBy\":\"RR_Broker\",\"RouteStatus\":\"RouteFixAcknowledged\",\"SenderCompID\":\"SCHWABTDAMOFP1\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:10.452\"},\"ClientOrderID\":\"1000979954776.1\"}}}"},{"seq":39,"key":"Account Activity","1":"54661285","2":"OrderUROutCompleted","3":"{\"SchwabOrderID\":\"1000979954762\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"OrderUROutCompleted\",\"OrderUROutCompletedEvent\":{\"EventType\":\"OrderUROutCompleted\",\"LegId\":\"1000979954762\",\"ExecutionId\":\"20240711-EST-ngOMS-12990554004\",\"LeavesQuantity\":{},\"CancelQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"LegStatus\":\"LegClosed\",\"LegSubStatus\":\"LegSubStatusCancelled\",\"OutCancelType\":\"ClientCancel\",\"VenueExecutionTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.427\"},\"ExecutionTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.427\"},\"RouteName\":\"DASH_OPT_F1_J1\"}}}"},{"seq":40,"key":"Account Activity","1":"54661285","2":"ExecutionRequestCreated","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequestCreated\",\"ExecutionRequestCreatedEvent\":{\"EventType\":\"ExecutionRequestCreated\",\"LegId\":\"1000979954776\",\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteRequestType\":\"New\",\"RouteSequenceNumber\":1,\"RouteRequestedBy\":\"RR_Broker\",\"RouteStatus\":\"RouteFixAcknowledged\",\"SenderCompID\":\"SCHWABTDAMOFP1\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:10.452\"},\"ClientOrderID\":\"1000979954776.1\"}}}"},{"seq":41,"key":"Account Activity","1":"54661285","2":"ExecutionRequestCompleted","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"ExecutionRequestCompletedEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"LegId\":\"1000979954776\",\"ResponseType\":\"Accepted\",\"ExchangeOrderID\":\"7400079806878\",\"ExecutionTime\":{\"DateTimeString\":\"2024-07-11 11:43:10.515\"},\"RouteSequenceNumber\":1,\"RouteStatus\":\"RouteVenueAccepted\",\"RouteAcknowledgmentTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.482\"},\"ClientOrderID\":\"1000979954776.1\"}}}"},{"seq":42,"key":"Account Activity","1":"54661285","2":"ExecutionRequestCompleted","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"ExecutionRequestCompletedEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"LegId\":\"1000979954776\",\"ResponseType\":\"Accepted\",\"ExchangeOrderID\":\"7400079806878\",\"ExecutionTime\":{\"DateTimeString\":\"2024-07-11 11:43:10.515\"},\"RouteSequenceNumber\":1,\"RouteStatus\":\"RouteVenueAccepted\",\"RouteAcknowledgmentTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.482\"},\"ClientOrderID\":\"1000979954776.1\"}}}"}]}]}'
    ,'[2024-07-11 10:43:18] {"data":[{"service":"ACCT_ACTIVITY", "timestamp":1720712598466,"command":"SUBS","content":[{"seq":43,"key":"Account Activity","1":"54661285","2":"ChangeCreated","3":"{\"SchwabOrderID\":\"1000979954784\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ChangeCreated\",\"ChangeCreatedEventEquityOrder\":{\"EventType\":\"ChangeCreated\",\"Order\":{\"SchwabOrderID\":\"1000979954784\",\"AccountNumber\":\"54661285\",\"Order\":{\"AccountInfo\":{\"AccountNumber\":\"54661285\",\"AccountBranch\":\"WT\",\"CustomerOrFirmCode\":\"CustomerOrFirmCode_Customer\",\"OrderPlacementCustomerID\":\"353286754\",\"AccountState\":\"MO\",\"AccountTypeCode\":\"Customer\"},\"ClientChannelInfo\":{\"ClientProductCode\":\"M1\",\"EventUserID\":\"O1XX\",\"EventUserType\":\"Client\"},\"LifecycleCreatedTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"LifecycleSchwabOrderID\":\"1000979954762\",\"EntryTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.350\"},\"ExpiryTimeStamp\":{\"DateTimeString\":\"2024-07-11\"},\"AutoConfirm\":true,\"PlanSubmitDate\":{\"DateTimeString\":\"2024-07-11\"},\"SourceOMS\":\"ngOMS\",\"FirmID\":\"CHAS\",\"OrderAccount\":\"TDAAccount\",\"AssetOrderEquityOrderLeg\":{\"OrderInstruction\":{\"HandlingInstructionCode\":\"AutomatedExecutionNoIntervention\",\"ExecutionStrategy\":{\"Type\":\"ES_Limit\",\"LimitExecutionStrategy\":{\"Type\":\"ES_Limit\",\"LimitPrice\":{\"lo\":\"4900000\",\"signScale\":12},\"LimitPriceUnitCode\":\"Units\"}},\"PreferredRoute\":{},\"EquityOrderInstruction\":{}},\"CommissionInfo\":{\"EstimatedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"EstimatedPrincipalAmount\":{\"lo\":\"490000000\",\"signScale\":12},\"EstimatedCommissionAmount\":{\"lo\":\"650000\",\"signScale\":12}},\"AssetType\":\"MajorAssetType_EquityOption\",\"TimeInForce\":\"Day\",\"OrderTypeCode\":\"Limit\",\"OrderLegs\":[{\"LegID\":\"1000979954784\",\"LegParentSchwabOrderID\":\"1000979954784\",\"Quantity\":{\"lo\":\"1000000\",\"signScale\":12},\"QuantityUnitCodeType\":\"SharesOrUnits\",\"LeavesQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"BuySellCode\":\"Sell\",\"Security\":{\"SchwabSecurityID\":\"95278696\",\"Symbol\":\"TSLA  240719P00240000\",\"UnderlyingSymbol\":\"TSLA\",\"MajorAssetType\":\"MajorAssetType_EquityOption\",\"PrimaryMarketSymbol\":\"TSLA  240719P00240000\",\"ShortDescriptionText\":\"Tesla Inc 07\/19\/2024 $240 Put\",\"ShortName\":\"Tesla Inc 07\/19\/2024 $240 Put\",\"CUSIP\":\"0TSLA.SJ40240000\",\"OptionsSecurityInfo\":{\"PutCallCode\":\"Put\",\"UnderlyingSchwabSecurityID\":\"1948561409\",\"StrikePrice\":{\"lo\":\"240000000\",\"signScale\":12},\"OptionExpiryDate\":{\"DateTimeString\":\"2024-07-19 00:00:00.000\"}}},\"QuoteOnOrderAcceptance\":{\"Ask\":{\"lo\":\"4750000\",\"signScale\":12},\"AskSize\":{\"lo\":\"1\"},\"Bid\":{\"lo\":\"4500000\",\"signScale\":12},\"BidSize\":{\"lo\":\"182\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.350\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4625000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954784\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"LegClientRequestInfo\":{\"SecurityId\":\"TSLA  240719P00240000\",\"SecurityIdTypeCd\":\"Symbol\"},\"AccountingRuleCode\":\"Cash\",\"EstimatedNetAmount\":{\"lo\":\"489350000\",\"signScale\":12},\"EstimatedPrincipalAmnt\":{\"lo\":\"490000000\",\"signScale\":12},\"EquityOrderLeg\":{\"EquityOptionsOrderLeg\":{\"OpenClosePositionCode\":\"PC_Close\"}}}],\"OrderCapacityCode\":\"OC_Agency\",\"SettlementType\":\"SettlementType_Regular\",\"Rule80ACode\":73,\"SolicitedCode\":\"Unsolicited\",\"TradeTag\":\"API_TOS:POS_STMT\",\"EquityOrder\":{\"TradingSessionCodeOnOrder\":\"REG\"}}}},\"ParentSchwabOrderID\":\"1000979954776\",\"LifecycleSchwabOrderID\":\"1000979954762\"}}}"},{"seq":44,"key":"Account Activity","1":"54661285","2":"ChangeCreated","3":"{\"SchwabOrderID\":\"1000979954784\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ChangeCreated\",\"ChangeCreatedEventEquityOrder\":{\"EventType\":\"ChangeCreated\",\"Order\":{\"SchwabOrderID\":\"1000979954784\",\"AccountNumber\":\"54661285\",\"Order\":{\"AccountInfo\":{\"AccountNumber\":\"54661285\",\"AccountBranch\":\"WT\",\"CustomerOrFirmCode\":\"CustomerOrFirmCode_Customer\",\"OrderPlacementCustomerID\":\"353286754\",\"AccountState\":\"MO\",\"AccountTypeCode\":\"Customer\"},\"ClientChannelInfo\":{\"ClientProductCode\":\"M1\",\"EventUserID\":\"O1XX\",\"EventUserType\":\"Client\"},\"LifecycleCreatedTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"LifecycleSchwabOrderID\":\"1000979954762\",\"EntryTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.350\"},\"ExpiryTimeStamp\":{\"DateTimeString\":\"2024-07-11\"},\"AutoConfirm\":true,\"PlanSubmitDate\":{\"DateTimeString\":\"2024-07-11\"},\"SourceOMS\":\"ngOMS\",\"FirmID\":\"CHAS\",\"OrderAccount\":\"TDAAccount\",\"AssetOrderEquityOrderLeg\":{\"OrderInstruction\":{\"HandlingInstructionCode\":\"AutomatedExecutionNoIntervention\",\"ExecutionStrategy\":{\"Type\":\"ES_Limit\",\"LimitExecutionStrategy\":{\"Type\":\"ES_Limit\",\"LimitPrice\":{\"lo\":\"4900000\",\"signScale\":12},\"LimitPriceUnitCode\":\"Units\"}},\"PreferredRoute\":{},\"EquityOrderInstruction\":{}},\"CommissionInfo\":{\"EstimatedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"EstimatedPrincipalAmount\":{\"lo\":\"490000000\",\"signScale\":12},\"EstimatedCommissionAmount\":{\"lo\":\"650000\",\"signScale\":12}},\"AssetType\":\"MajorAssetType_EquityOption\",\"TimeInForce\":\"Day\",\"OrderTypeCode\":\"Limit\",\"OrderLegs\":[{\"LegID\":\"1000979954784\",\"LegParentSchwabOrderID\":\"1000979954784\",\"Quantity\":{\"lo\":\"1000000\",\"signScale\":12},\"QuantityUnitCodeType\":\"SharesOrUnits\",\"LeavesQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"BuySellCode\":\"Sell\",\"Security\":{\"SchwabSecurityID\":\"95278696\",\"Symbol\":\"TSLA  240719P00240000\",\"UnderlyingSymbol\":\"TSLA\",\"MajorAssetType\":\"MajorAssetType_EquityOption\",\"PrimaryMarketSymbol\":\"TSLA  240719P00240000\",\"ShortDescriptionText\":\"Tesla Inc 07\/19\/2024 $240 Put\",\"ShortName\":\"Tesla Inc 07\/19\/2024 $240 Put\",\"CUSIP\":\"0TSLA.SJ40240000\",\"OptionsSecurityInfo\":{\"PutCallCode\":\"Put\",\"UnderlyingSchwabSecurityID\":\"1948561409\",\"StrikePrice\":{\"lo\":\"240000000\",\"signScale\":12},\"OptionExpiryDate\":{\"DateTimeString\":\"2024-07-19 00:00:00.000\"}}},\"QuoteOnOrderAcceptance\":{\"Ask\":{\"lo\":\"4750000\",\"signScale\":12},\"AskSize\":{\"lo\":\"1\"},\"Bid\":{\"lo\":\"4500000\",\"signScale\":12},\"BidSize\":{\"lo\":\"182\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.350\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4625000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954784\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"LegClientRequestInfo\":{\"SecurityId\":\"TSLA  240719P00240000\",\"SecurityIdTypeCd\":\"Symbol\"},\"AccountingRuleCode\":\"Cash\",\"EstimatedNetAmount\":{\"lo\":\"489350000\",\"signScale\":12},\"EstimatedPrincipalAmnt\":{\"lo\":\"490000000\",\"signScale\":12},\"EquityOrderLeg\":{\"EquityOptionsOrderLeg\":{\"OpenClosePositionCode\":\"PC_Close\"}}}],\"OrderCapacityCode\":\"OC_Agency\",\"SettlementType\":\"SettlementType_Regular\",\"Rule80ACode\":73,\"SolicitedCode\":\"Unsolicited\",\"TradeTag\":\"API_TOS:POS_STMT\",\"EquityOrder\":{\"TradingSessionCodeOnOrder\":\"REG\"}}}},\"ParentSchwabOrderID\":\"1000979954776\",\"LifecycleSchwabOrderID\":\"1000979954762\"}}}"},{"seq":45,"key":"Account Activity","1":"54661285","2":"CancelAccepted","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"CancelAccepted\",\"CancelAcceptedEvent\":{\"EventType\":\"CancelAccepted\",\"LifecycleSchwabOrderID\":\"1000979954762\",\"PlanSubmitDate\":{\"DateTimeString\":\"2024-07-11\"},\"ClientProductCode\":\"M1\",\"AutoConfirm\":true,\"CancelTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.392\"},\"LegCancelRequestInfoList\":[{\"LegID\":\"1000979954776\",\"IntendedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"ChangedNewOrderID\":\"1000979954784\",\"RequestedAmount\":{\"lo\":\"1000000\",\"signScale\":12},\"LegStatus\":\"LegOpen\",\"LegSubStatus\":\"LegSubStatusCancelled\",\"ChangedNewSchwabOrderId\":\"1000979954784\",\"CancelAcceptedTime\":{\"DateTimeString\":\"2024-07-11 11:43:18.392\"},\"EventUserID\":\"O1XX\"}],\"CancelRequestType\":\"ClientCancel\"}}}"},{"seq":46,"key":"Account Activity","1":"54661285","2":"CancelAccepted","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"CancelAccepted\",\"CancelAcceptedEvent\":{\"EventType\":\"CancelAccepted\",\"LifecycleSchwabOrderID\":\"1000979954762\",\"PlanSubmitDate\":{\"DateTimeString\":\"2024-07-11\"},\"ClientProductCode\":\"M1\",\"AutoConfirm\":true,\"CancelTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.392\"},\"LegCancelRequestInfoList\":[{\"LegID\":\"1000979954776\",\"IntendedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"ChangedNewOrderID\":\"1000979954784\",\"RequestedAmount\":{\"lo\":\"1000000\",\"signScale\":12},\"LegStatus\":\"LegOpen\",\"LegSubStatus\":\"LegSubStatusCancelled\",\"ChangedNewSchwabOrderId\":\"1000979954784\",\"CancelAcceptedTime\":{\"DateTimeString\":\"2024-07-11 11:43:18.392\"},\"EventUserID\":\"O1XX\"}],\"CancelRequestType\":\"ClientCancel\"}}}"},{"seq":47,"key":"Account Activity","1":"54661285","2":"ChangeAccepted","3":"{\"SchwabOrderID\":\"1000979954784\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ChangeAccepted\",\"ChangeAcceptedEvent\":{\"EventType\":\"ChangeAccepted\",\"CreatedTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.350\"},\"ExpiryTimeStamp\":{\"DateTimeString\":\"2024-07-11\"},\"TradingSessionCodeOnOrderEntry\":\"REG\",\"QuoteOnOrderEntry\":[{\"Ask\":{\"lo\":\"4750000\",\"signScale\":12},\"AskSize\":{\"lo\":\"1\"},\"Bid\":{\"lo\":\"4500000\",\"signScale\":12},\"BidSize\":{\"lo\":\"182\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.350\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4625000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954784\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}}],\"Status\":\"Open\",\"LegStatus\":\"LegOpen\",\"LegInfoUpdate\":[{\"LegId\":\"1000979954784\",\"AccountingRuleCode\":\"Cash\",\"IntendedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"PreviousLegId\":\"1000979954776\"}]}}}"},{"seq":48,"key":"Account Activity","1":"54661285","2":"ChangeAccepted","3":"{\"SchwabOrderID\":\"1000979954784\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ChangeAccepted\",\"ChangeAcceptedEvent\":{\"EventType\":\"ChangeAccepted\",\"CreatedTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.350\"},\"ExpiryTimeStamp\":{\"DateTimeString\":\"2024-07-11\"},\"TradingSessionCodeOnOrderEntry\":\"REG\",\"QuoteOnOrderEntry\":[{\"Ask\":{\"lo\":\"4750000\",\"signScale\":12},\"AskSize\":{\"lo\":\"1\"},\"Bid\":{\"lo\":\"4500000\",\"signScale\":12},\"BidSize\":{\"lo\":\"182\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.350\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4625000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954784\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}}],\"Status\":\"Open\",\"LegStatus\":\"LegOpen\",\"LegInfoUpdate\":[{\"LegId\":\"1000979954784\",\"AccountingRuleCode\":\"Cash\",\"IntendedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"PreviousLegId\":\"1000979954776\"}]}}}"}]}]}'
    ,'[2024-07-11 10:43:19] {"data":[{"service":"ACCT_ACTIVITY", "timestamp":1720712599490,"command":"SUBS","content":[{"seq":49,"key":"Account Activity","1":"54661285","2":"ExecutionRequested","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequested\",\"ExecutionRequestedEventRoutedInfo\":{\"EventType\":\"ExecutionRequested\",\"RouteSequenceNumber\":2,\"RouteInfo\":{\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteSequenceNumber\":2,\"RoutedExecutionTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.393\"},\"Quote\":{\"Ask\":{\"lo\":\"5050000\",\"signScale\":12},\"AskSize\":{\"lo\":\"97\"},\"Bid\":{\"lo\":\"4500000\",\"signScale\":12},\"BidSize\":{\"lo\":\"199\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.256\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4775000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954776\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"RouteRequestedType\":\"Cancel\",\"RoutedQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"RoutedPrice\":{\"lo\":\"5250000\",\"signScale\":12},\"RouteStatus\":\"RouteCreated\",\"ClientOrderID\":\"1000979954776.2\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:18.393\"},\"RouteTimeInForce\":\"Day\",\"RouteAcknowledgmentTimeStamp\":{}},\"RouteRequestedBy\":\"RR_Broker\",\"LegId\":\"1000979954776\"}}}"},{"seq":50,"key":"Account Activity","1":"54661285","2":"ExecutionRequested","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequested\",\"ExecutionRequestedEventRoutedInfo\":{\"EventType\":\"ExecutionRequested\",\"RouteSequenceNumber\":2,\"RouteInfo\":{\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteSequenceNumber\":2,\"RoutedExecutionTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.393\"},\"Quote\":{\"Ask\":{\"lo\":\"5050000\",\"signScale\":12},\"AskSize\":{\"lo\":\"97\"},\"Bid\":{\"lo\":\"4500000\",\"signScale\":12},\"BidSize\":{\"lo\":\"199\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:10.256\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4775000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954776\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"RouteRequestedType\":\"Cancel\",\"RoutedQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"RoutedPrice\":{\"lo\":\"5250000\",\"signScale\":12},\"RouteStatus\":\"RouteCreated\",\"ClientOrderID\":\"1000979954776.2\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:18.393\"},\"RouteTimeInForce\":\"Day\",\"RouteAcknowledgmentTimeStamp\":{}},\"RouteRequestedBy\":\"RR_Broker\",\"LegId\":\"1000979954776\"}}}"},{"seq":51,"key":"Account Activity","1":"54661285","2":"ExecutionRequestCompleted","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"ExecutionRequestCompletedEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"LegId\":\"1000979954776\",\"ResponseType\":\"Accepted\",\"ExecutionTime\":{\"DateTimeString\":\"2024-07-11 11:43:18.530\"},\"RouteSequenceNumber\":1,\"RouteStatus\":\"RouteVenueAccepted\",\"RouteAcknowledgmentTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.495\"},\"ClientOrderID\":\"1000979954785\"}}}"},{"seq":52,"key":"Account Activity","1":"54661285","2":"ExecutionRequestCompleted","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"ExecutionRequestCompletedEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"LegId\":\"1000979954776\",\"ResponseType\":\"Accepted\",\"ExecutionTime\":{\"DateTimeString\":\"2024-07-11 11:43:18.530\"},\"RouteSequenceNumber\":1,\"RouteStatus\":\"RouteVenueAccepted\",\"RouteAcknowledgmentTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.495\"},\"ClientOrderID\":\"1000979954785\"}}}"},{"seq":53,"key":"Account Activity","1":"54661285","2":"ExecutionRequested","3":"{\"SchwabOrderID\":\"1000979954784\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequested\",\"ExecutionRequestedEventRoutedInfo\":{\"EventType\":\"ExecutionRequested\",\"RouteSequenceNumber\":1,\"RouteInfo\":{\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteSequenceNumber\":1,\"RoutedExecutionTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.548\"},\"Quote\":{\"Ask\":{\"lo\":\"4750000\",\"signScale\":12},\"AskSize\":{\"lo\":\"1\"},\"Bid\":{\"lo\":\"4500000\",\"signScale\":12},\"BidSize\":{\"lo\":\"182\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.350\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4625000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954784\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"RouteRequestedType\":\"New\",\"RoutedQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"RoutedPrice\":{\"lo\":\"4900000\",\"signScale\":12},\"RouteStatus\":\"RouteCreated\",\"ClientOrderID\":\"1000979954784.1\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:18.548\"},\"RouteTimeInForce\":\"Day\",\"RouteAcknowledgmentTimeStamp\":{}},\"RouteRequestedBy\":\"RR_Broker\",\"LegId\":\"1000979954784\"}}}"},{"seq":54,"key":"Account Activity","1":"54661285","2":"ExecutionRequested","3":"{\"SchwabOrderID\":\"1000979954784\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequested\",\"ExecutionRequestedEventRoutedInfo\":{\"EventType\":\"ExecutionRequested\",\"RouteSequenceNumber\":1,\"RouteInfo\":{\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteSequenceNumber\":1,\"RoutedExecutionTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.548\"},\"Quote\":{\"Ask\":{\"lo\":\"4750000\",\"signScale\":12},\"AskSize\":{\"lo\":\"1\"},\"Bid\":{\"lo\":\"4500000\",\"signScale\":12},\"BidSize\":{\"lo\":\"182\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.350\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4625000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954784\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"RouteRequestedType\":\"New\",\"RoutedQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"RoutedPrice\":{\"lo\":\"4900000\",\"signScale\":12},\"RouteStatus\":\"RouteCreated\",\"ClientOrderID\":\"1000979954784.1\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:18.548\"},\"RouteTimeInForce\":\"Day\",\"RouteAcknowledgmentTimeStamp\":{}},\"RouteRequestedBy\":\"RR_Broker\",\"LegId\":\"1000979954784\"}}}"},{"seq":55,"key":"Account Activity","1":"54661285","2":"ExecutionCreated","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionCreated\",\"ExecutionCreatedEventExecutionInfo\":{\"EventType\":\"ExecutionCreated\",\"LegId\":\"1000979954776\",\"ExecutionInfo\":{\"ExecutionSequenceNumber\":1,\"ExecutionId\":\"20240711-EST-ngOMS-12990554006\",\"ExecutionQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"ExecutionTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.546\"},\"ExecutionTransType\":\"UROut\",\"ExecutionCapacityCode\":\"Agency\",\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteSequenceNumber\":1,\"VenuExecutionTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.546\"},\"CancelType\":\"ClientCancel\",\"ReportingCapacityCode\":\"RC_Agency\",\"AsOfTimeStamp\":{},\"ClientOrderID\":\"1000979954776.1\"},\"AsOfTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.546\"},\"RouteSequenceNumber\":1}}}"},{"seq":56,"key":"Account Activity","1":"54661285","2":"ExecutionCreated","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionCreated\",\"ExecutionCreatedEventExecutionInfo\":{\"EventType\":\"ExecutionCreated\",\"LegId\":\"1000979954776\",\"ExecutionInfo\":{\"ExecutionSequenceNumber\":1,\"ExecutionId\":\"20240711-EST-ngOMS-12990554006\",\"ExecutionQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"ExecutionTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.546\"},\"ExecutionTransType\":\"UROut\",\"ExecutionCapacityCode\":\"Agency\",\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteSequenceNumber\":1,\"VenuExecutionTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.546\"},\"CancelType\":\"ClientCancel\",\"ReportingCapacityCode\":\"RC_Agency\",\"AsOfTimeStamp\":{},\"ClientOrderID\":\"1000979954776.1\"},\"AsOfTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.546\"},\"RouteSequenceNumber\":1}}}"},{"seq":57,"key":"Account Activity","1":"54661285","2":"OrderUROutCompleted","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"OrderUROutCompleted\",\"OrderUROutCompletedEvent\":{\"EventType\":\"OrderUROutCompleted\",\"LegId\":\"1000979954776\",\"ExecutionId\":\"20240711-EST-ngOMS-12990554006\",\"LeavesQuantity\":{},\"CancelQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"LegStatus\":\"LegClosed\",\"LegSubStatus\":\"LegSubStatusCancelled\",\"OutCancelType\":\"ClientCancel\",\"VenueExecutionTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.546\"},\"ExecutionTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.546\"},\"RouteName\":\"DASH_OPT_F1_J1\"}}}"},{"seq":58,"key":"Account Activity","1":"54661285","2":"ExecutionRequestCreated","3":"{\"SchwabOrderID\":\"1000979954784\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequestCreated\",\"ExecutionRequestCreatedEvent\":{\"EventType\":\"ExecutionRequestCreated\",\"LegId\":\"1000979954784\",\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteRequestType\":\"New\",\"RouteSequenceNumber\":1,\"RouteRequestedBy\":\"RR_Broker\",\"RouteStatus\":\"RouteFixAcknowledged\",\"SenderCompID\":\"SCHWABTDAMOFP1\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:18.572\"},\"ClientOrderID\":\"1000979954784.1\"}}}"},{"seq":59,"key":"Account Activity","1":"54661285","2":"OrderUROutCompleted","3":"{\"SchwabOrderID\":\"1000979954776\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"OrderUROutCompleted\",\"OrderUROutCompletedEvent\":{\"EventType\":\"OrderUROutCompleted\",\"LegId\":\"1000979954776\",\"ExecutionId\":\"20240711-EST-ngOMS-12990554006\",\"LeavesQuantity\":{},\"CancelQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"LegStatus\":\"LegClosed\",\"LegSubStatus\":\"LegSubStatusCancelled\",\"OutCancelType\":\"ClientCancel\",\"VenueExecutionTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.546\"},\"ExecutionTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.546\"},\"RouteName\":\"DASH_OPT_F1_J1\"}}}"},{"seq":60,"key":"Account Activity","1":"54661285","2":"ExecutionRequestCreated","3":"{\"SchwabOrderID\":\"1000979954784\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequestCreated\",\"ExecutionRequestCreatedEvent\":{\"EventType\":\"ExecutionRequestCreated\",\"LegId\":\"1000979954784\",\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteRequestType\":\"New\",\"RouteSequenceNumber\":1,\"RouteRequestedBy\":\"RR_Broker\",\"RouteStatus\":\"RouteFixAcknowledged\",\"SenderCompID\":\"SCHWABTDAMOFP1\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:18.572\"},\"ClientOrderID\":\"1000979954784.1\"}}}"},{"seq":61,"key":"Account Activity","1":"54661285","2":"ExecutionRequestCompleted","3":"{\"SchwabOrderID\":\"1000979954784\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"ExecutionRequestCompletedEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"LegId\":\"1000979954784\",\"ResponseType\":\"Accepted\",\"ExchangeOrderID\":\"7600082827025\",\"ExecutionTime\":{\"DateTimeString\":\"2024-07-11 11:43:18.631\"},\"RouteSequenceNumber\":1,\"RouteStatus\":\"RouteVenueAccepted\",\"RouteAcknowledgmentTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.599\"},\"ClientOrderID\":\"1000979954784.1\"}}}"},{"seq":62,"key":"Account Activity","1":"54661285","2":"ExecutionRequestCompleted","3":"{\"SchwabOrderID\":\"1000979954784\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"ExecutionRequestCompletedEvent\":{\"EventType\":\"ExecutionRequestCompleted\",\"LegId\":\"1000979954784\",\"ResponseType\":\"Accepted\",\"ExchangeOrderID\":\"7600082827025\",\"ExecutionTime\":{\"DateTimeString\":\"2024-07-11 11:43:18.631\"},\"RouteSequenceNumber\":1,\"RouteStatus\":\"RouteVenueAccepted\",\"RouteAcknowledgmentTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.599\"},\"ClientOrderID\":\"1000979954784.1\"}}}"}]}]}'
    ,'[2024-07-11 10:43:26] {"data":[{"service":"ACCT_ACTIVITY", "timestamp":1720712606675,"command":"SUBS","content":[{"seq":63,"key":"Account Activity","1":"54661285","2":"ChangeCreated","3":"{\"SchwabOrderID\":\"1000979954795\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ChangeCreated\",\"ChangeCreatedEventEquityOrder\":{\"EventType\":\"ChangeCreated\",\"Order\":{\"SchwabOrderID\":\"1000979954795\",\"AccountNumber\":\"54661285\",\"Order\":{\"AccountInfo\":{\"AccountNumber\":\"54661285\",\"AccountBranch\":\"WT\",\"CustomerOrFirmCode\":\"CustomerOrFirmCode_Customer\",\"OrderPlacementCustomerID\":\"353286754\",\"AccountState\":\"MO\",\"AccountTypeCode\":\"Customer\"},\"ClientChannelInfo\":{\"ClientProductCode\":\"M1\",\"EventUserID\":\"O1XX\",\"EventUserType\":\"Client\"},\"LifecycleCreatedTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"LifecycleSchwabOrderID\":\"1000979954762\",\"EntryTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:26.548\"},\"ExpiryTimeStamp\":{\"DateTimeString\":\"2024-07-11\"},\"AutoConfirm\":true,\"PlanSubmitDate\":{\"DateTimeString\":\"2024-07-11\"},\"SourceOMS\":\"ngOMS\",\"FirmID\":\"CHAS\",\"OrderAccount\":\"TDAAccount\",\"AssetOrderEquityOrderLeg\":{\"OrderInstruction\":{\"HandlingInstructionCode\":\"AutomatedExecutionNoIntervention\",\"ExecutionStrategy\":{\"Type\":\"ES_Limit\",\"LimitExecutionStrategy\":{\"Type\":\"ES_Limit\",\"LimitPrice\":{\"lo\":\"4650000\",\"signScale\":12},\"LimitPriceUnitCode\":\"Units\"}},\"PreferredRoute\":{},\"EquityOrderInstruction\":{}},\"CommissionInfo\":{\"EstimatedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"EstimatedPrincipalAmount\":{\"lo\":\"465000000\",\"signScale\":12},\"EstimatedCommissionAmount\":{\"lo\":\"650000\",\"signScale\":12}},\"AssetType\":\"MajorAssetType_EquityOption\",\"TimeInForce\":\"Day\",\"OrderTypeCode\":\"Limit\",\"OrderLegs\":[{\"LegID\":\"1000979954795\",\"LegParentSchwabOrderID\":\"1000979954795\",\"Quantity\":{\"lo\":\"1000000\",\"signScale\":12},\"QuantityUnitCodeType\":\"SharesOrUnits\",\"LeavesQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"BuySellCode\":\"Sell\",\"Security\":{\"SchwabSecurityID\":\"95278696\",\"Symbol\":\"TSLA  240719P00240000\",\"UnderlyingSymbol\":\"TSLA\",\"MajorAssetType\":\"MajorAssetType_EquityOption\",\"PrimaryMarketSymbol\":\"TSLA  240719P00240000\",\"ShortDescriptionText\":\"Tesla Inc 07\/19\/2024 $240 Put\",\"ShortName\":\"Tesla Inc 07\/19\/2024 $240 Put\",\"CUSIP\":\"0TSLA.SJ40240000\",\"OptionsSecurityInfo\":{\"PutCallCode\":\"Put\",\"UnderlyingSchwabSecurityID\":\"1948561409\",\"StrikePrice\":{\"lo\":\"240000000\",\"signScale\":12},\"OptionExpiryDate\":{\"DateTimeString\":\"2024-07-19 00:00:00.000\"}}},\"QuoteOnOrderAcceptance\":{\"Ask\":{\"lo\":\"4900000\",\"signScale\":12},\"AskSize\":{\"lo\":\"1\"},\"Bid\":{\"lo\":\"4750000\",\"signScale\":12},\"BidSize\":{\"lo\":\"5\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:26.548\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4825000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954795\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"LegClientRequestInfo\":{\"SecurityId\":\"TSLA  240719P00240000\",\"SecurityIdTypeCd\":\"Symbol\"},\"AccountingRuleCode\":\"Cash\",\"EstimatedNetAmount\":{\"lo\":\"464350000\",\"signScale\":12},\"EstimatedPrincipalAmnt\":{\"lo\":\"465000000\",\"signScale\":12},\"EquityOrderLeg\":{\"EquityOptionsOrderLeg\":{\"OpenClosePositionCode\":\"PC_Close\"}}}],\"OrderCapacityCode\":\"OC_Agency\",\"SettlementType\":\"SettlementType_Regular\",\"Rule80ACode\":73,\"SolicitedCode\":\"Unsolicited\",\"TradeTag\":\"API_TOS:POS_STMT\",\"EquityOrder\":{\"TradingSessionCodeOnOrder\":\"REG\"}}}},\"ParentSchwabOrderID\":\"1000979954784\",\"LifecycleSchwabOrderID\":\"1000979954762\"}}}"},{"seq":64,"key":"Account Activity","1":"54661285","2":"ChangeCreated","3":"{\"SchwabOrderID\":\"1000979954795\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ChangeCreated\",\"ChangeCreatedEventEquityOrder\":{\"EventType\":\"ChangeCreated\",\"Order\":{\"SchwabOrderID\":\"1000979954795\",\"AccountNumber\":\"54661285\",\"Order\":{\"AccountInfo\":{\"AccountNumber\":\"54661285\",\"AccountBranch\":\"WT\",\"CustomerOrFirmCode\":\"CustomerOrFirmCode_Customer\",\"OrderPlacementCustomerID\":\"353286754\",\"AccountState\":\"MO\",\"AccountTypeCode\":\"Customer\"},\"ClientChannelInfo\":{\"ClientProductCode\":\"M1\",\"EventUserID\":\"O1XX\",\"EventUserType\":\"Client\"},\"LifecycleCreatedTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:02.774\"},\"LifecycleSchwabOrderID\":\"1000979954762\",\"EntryTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:26.548\"},\"ExpiryTimeStamp\":{\"DateTimeString\":\"2024-07-11\"},\"AutoConfirm\":true,\"PlanSubmitDate\":{\"DateTimeString\":\"2024-07-11\"},\"SourceOMS\":\"ngOMS\",\"FirmID\":\"CHAS\",\"OrderAccount\":\"TDAAccount\",\"AssetOrderEquityOrderLeg\":{\"OrderInstruction\":{\"HandlingInstructionCode\":\"AutomatedExecutionNoIntervention\",\"ExecutionStrategy\":{\"Type\":\"ES_Limit\",\"LimitExecutionStrategy\":{\"Type\":\"ES_Limit\",\"LimitPrice\":{\"lo\":\"4650000\",\"signScale\":12},\"LimitPriceUnitCode\":\"Units\"}},\"PreferredRoute\":{},\"EquityOrderInstruction\":{}},\"CommissionInfo\":{\"EstimatedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"EstimatedPrincipalAmount\":{\"lo\":\"465000000\",\"signScale\":12},\"EstimatedCommissionAmount\":{\"lo\":\"650000\",\"signScale\":12}},\"AssetType\":\"MajorAssetType_EquityOption\",\"TimeInForce\":\"Day\",\"OrderTypeCode\":\"Limit\",\"OrderLegs\":[{\"LegID\":\"1000979954795\",\"LegParentSchwabOrderID\":\"1000979954795\",\"Quantity\":{\"lo\":\"1000000\",\"signScale\":12},\"QuantityUnitCodeType\":\"SharesOrUnits\",\"LeavesQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"BuySellCode\":\"Sell\",\"Security\":{\"SchwabSecurityID\":\"95278696\",\"Symbol\":\"TSLA  240719P00240000\",\"UnderlyingSymbol\":\"TSLA\",\"MajorAssetType\":\"MajorAssetType_EquityOption\",\"PrimaryMarketSymbol\":\"TSLA  240719P00240000\",\"ShortDescriptionText\":\"Tesla Inc 07\/19\/2024 $240 Put\",\"ShortName\":\"Tesla Inc 07\/19\/2024 $240 Put\",\"CUSIP\":\"0TSLA.SJ40240000\",\"OptionsSecurityInfo\":{\"PutCallCode\":\"Put\",\"UnderlyingSchwabSecurityID\":\"1948561409\",\"StrikePrice\":{\"lo\":\"240000000\",\"signScale\":12},\"OptionExpiryDate\":{\"DateTimeString\":\"2024-07-19 00:00:00.000\"}}},\"QuoteOnOrderAcceptance\":{\"Ask\":{\"lo\":\"4900000\",\"signScale\":12},\"AskSize\":{\"lo\":\"1\"},\"Bid\":{\"lo\":\"4750000\",\"signScale\":12},\"BidSize\":{\"lo\":\"5\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:26.548\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4825000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954795\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"LegClientRequestInfo\":{\"SecurityId\":\"TSLA  240719P00240000\",\"SecurityIdTypeCd\":\"Symbol\"},\"AccountingRuleCode\":\"Cash\",\"EstimatedNetAmount\":{\"lo\":\"464350000\",\"signScale\":12},\"EstimatedPrincipalAmnt\":{\"lo\":\"465000000\",\"signScale\":12},\"EquityOrderLeg\":{\"EquityOptionsOrderLeg\":{\"OpenClosePositionCode\":\"PC_Close\"}}}],\"OrderCapacityCode\":\"OC_Agency\",\"SettlementType\":\"SettlementType_Regular\",\"Rule80ACode\":73,\"SolicitedCode\":\"Unsolicited\",\"TradeTag\":\"API_TOS:POS_STMT\",\"EquityOrder\":{\"TradingSessionCodeOnOrder\":\"REG\"}}}},\"ParentSchwabOrderID\":\"1000979954784\",\"LifecycleSchwabOrderID\":\"1000979954762\"}}}"},{"seq":65,"key":"Account Activity","1":"54661285","2":"CancelAccepted","3":"{\"SchwabOrderID\":\"1000979954784\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"CancelAccepted\",\"CancelAcceptedEvent\":{\"EventType\":\"CancelAccepted\",\"LifecycleSchwabOrderID\":\"1000979954762\",\"PlanSubmitDate\":{\"DateTimeString\":\"2024-07-11\"},\"ClientProductCode\":\"M1\",\"AutoConfirm\":true,\"CancelTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:26.590\"},\"LegCancelRequestInfoList\":[{\"LegID\":\"1000979954784\",\"IntendedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"ChangedNewOrderID\":\"1000979954795\",\"RequestedAmount\":{\"lo\":\"1000000\",\"signScale\":12},\"LegStatus\":\"LegOpen\",\"LegSubStatus\":\"LegSubStatusCancelled\",\"ChangedNewSchwabOrderId\":\"1000979954795\",\"CancelAcceptedTime\":{\"DateTimeString\":\"2024-07-11 11:43:26.590\"},\"EventUserID\":\"O1XX\"}],\"CancelRequestType\":\"ClientCancel\"}}}"},{"seq":66,"key":"Account Activity","1":"54661285","2":"CancelAccepted","3":"{\"SchwabOrderID\":\"1000979954784\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"CancelAccepted\",\"CancelAcceptedEvent\":{\"EventType\":\"CancelAccepted\",\"LifecycleSchwabOrderID\":\"1000979954762\",\"PlanSubmitDate\":{\"DateTimeString\":\"2024-07-11\"},\"ClientProductCode\":\"M1\",\"AutoConfirm\":true,\"CancelTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:26.590\"},\"LegCancelRequestInfoList\":[{\"LegID\":\"1000979954784\",\"IntendedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"ChangedNewOrderID\":\"1000979954795\",\"RequestedAmount\":{\"lo\":\"1000000\",\"signScale\":12},\"LegStatus\":\"LegOpen\",\"LegSubStatus\":\"LegSubStatusCancelled\",\"ChangedNewSchwabOrderId\":\"1000979954795\",\"CancelAcceptedTime\":{\"DateTimeString\":\"2024-07-11 11:43:26.590\"},\"EventUserID\":\"O1XX\"}],\"CancelRequestType\":\"ClientCancel\"}}}"},{"seq":67,"key":"Account Activity","1":"54661285","2":"ChangeAccepted","3":"{\"SchwabOrderID\":\"1000979954795\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ChangeAccepted\",\"ChangeAcceptedEvent\":{\"EventType\":\"ChangeAccepted\",\"CreatedTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:26.548\"},\"ExpiryTimeStamp\":{\"DateTimeString\":\"2024-07-11\"},\"TradingSessionCodeOnOrderEntry\":\"REG\",\"QuoteOnOrderEntry\":[{\"Ask\":{\"lo\":\"4900000\",\"signScale\":12},\"AskSize\":{\"lo\":\"1\"},\"Bid\":{\"lo\":\"4750000\",\"signScale\":12},\"BidSize\":{\"lo\":\"5\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:26.548\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4825000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954795\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}}],\"Status\":\"Open\",\"LegStatus\":\"LegOpen\",\"LegInfoUpdate\":[{\"LegId\":\"1000979954795\",\"AccountingRuleCode\":\"Cash\",\"IntendedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"PreviousLegId\":\"1000979954784\"}]}}}"},{"seq":68,"key":"Account Activity","1":"54661285","2":"ChangeAccepted","3":"{\"SchwabOrderID\":\"1000979954795\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ChangeAccepted\",\"ChangeAcceptedEvent\":{\"EventType\":\"ChangeAccepted\",\"CreatedTimeStamp\":{\"DateTimeString\":\"2024-07-11 11:43:26.548\"},\"ExpiryTimeStamp\":{\"DateTimeString\":\"2024-07-11\"},\"TradingSessionCodeOnOrderEntry\":\"REG\",\"QuoteOnOrderEntry\":[{\"Ask\":{\"lo\":\"4900000\",\"signScale\":12},\"AskSize\":{\"lo\":\"1\"},\"Bid\":{\"lo\":\"4750000\",\"signScale\":12},\"BidSize\":{\"lo\":\"5\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:26.548\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4825000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954795\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}}],\"Status\":\"Open\",\"LegStatus\":\"LegOpen\",\"LegInfoUpdate\":[{\"LegId\":\"1000979954795\",\"AccountingRuleCode\":\"Cash\",\"IntendedOrderQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"PreviousLegId\":\"1000979954784\"}]}}}"},{"seq":69,"key":"Account Activity","1":"54661285","2":"ExecutionRequested","3":"{\"SchwabOrderID\":\"1000979954784\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequested\",\"ExecutionRequestedEventRoutedInfo\":{\"EventType\":\"ExecutionRequested\",\"RouteSequenceNumber\":2,\"RouteInfo\":{\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteSequenceNumber\":2,\"RoutedExecutionTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:26.593\"},\"Quote\":{\"Ask\":{\"lo\":\"4750000\",\"signScale\":12},\"AskSize\":{\"lo\":\"1\"},\"Bid\":{\"lo\":\"4500000\",\"signScale\":12},\"BidSize\":{\"lo\":\"182\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.350\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4625000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954784\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"RouteRequestedType\":\"Cancel\",\"RoutedQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"RoutedPrice\":{\"lo\":\"4900000\",\"signScale\":12},\"RouteStatus\":\"RouteCreated\",\"ClientOrderID\":\"1000979954784.2\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:26.593\"},\"RouteTimeInForce\":\"Day\",\"RouteAcknowledgmentTimeStamp\":{}},\"RouteRequestedBy\":\"RR_Broker\",\"LegId\":\"1000979954784\"}}}"},{"seq":70,"key":"Account Activity","1":"54661285","2":"ExecutionRequested","3":"{\"SchwabOrderID\":\"1000979954784\",\"AccountNumber\":\"54661285\",\"BaseEvent\":{\"EventType\":\"ExecutionRequested\",\"ExecutionRequestedEventRoutedInfo\":{\"EventType\":\"ExecutionRequested\",\"RouteSequenceNumber\":2,\"RouteInfo\":{\"RouteName\":\"DASH_OPT_F1_J1\",\"RouteSequenceNumber\":2,\"RoutedExecutionTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:26.593\"},\"Quote\":{\"Ask\":{\"lo\":\"4750000\",\"signScale\":12},\"AskSize\":{\"lo\":\"1\"},\"Bid\":{\"lo\":\"4500000\",\"signScale\":12},\"BidSize\":{\"lo\":\"182\"},\"QuoteTimestamp\":{\"DateTimeString\":\"2024-07-11 11:43:18.350\"},\"Symbol\":\"TSLA  240719P00240000\",\"QuoteTypeCode\":\"Mark\",\"Mid\":{\"lo\":\"4625000\",\"signScale\":13},\"SchwabOrderID\":\"1000979954784\",\"OptionsQuote\":{\"PutCallCode\":\"Put\"}},\"RouteRequestedType\":\"Cancel\",\"RoutedQuantity\":{\"lo\":\"1000000\",\"signScale\":12},\"RoutedPrice\":{\"lo\":\"4900000\",\"signScale\":12},\"RouteStatus\":\"RouteCreated\",\"ClientOrderID\":\"1000979954784.2\",\"RoutedTime\":{\"DateTimeString\":\"2024-07-11 11:43:26.593\"},\"RouteTimeInForce\":\"Day\",\"RouteAcknowledgmentTimeStamp\":{}},\"RouteRequestedBy\":\"RR_Broker\",\"LegId\":\"1000979954784\"}}}"}]}]}']
    for message in testList:
    
        with app.app_context():
            send_trade(message)